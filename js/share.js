(()=>{function e(e={}){let t="?";for(let o of Reflect.ownKeys(e)){t=`${t}${o}=${e[o]?encodeURIComponent(e[o]):""}&`}return t.slice(0,t.length-1)}const t=(()=>{const t="https://twitter.com/intent/tweet",o="https://www.facebook.com/sharer/sharer.php",n="http://connect.qq.com/widget/shareqq/index.html",r="http://service.weibo.com/share/share.php",c=document.title,i=document.querySelector("meta[name='description']").getAttribute("content"),l=`${window.location.origin}${window.location.pathname}`,a={twitter:{url:l,text:`${c}\n\n${i}\n\n`,via:window.location.origin},facebook:{u:l},weibo:{url:l,title:`${c}\n\n${i}`},qq:{url:l,title:c,desc:i}};return{twitter:`${t}${e(a.twitter)}`,facebook:`${o}${e(a.facebook)}`,weibo:`${r}${e(a.weibo)}`,qq:`${n}${e(a.qq)}`}})(),{share:o}=window.AD_CONFIG,n=Reflect.ownKeys(o).filter(e=>o[e]);for(let e of n)"wechat"!==e&&document.querySelector(`#share-btn-${e}`).setAttribute("href",t[e]);n.includes("wechat")&&(document.querySelector("#share-btn-wechat").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation();const t=document.querySelector("#site-layer"),o=document.querySelector("#site-layer-container"),n=document.querySelector("#site-layer-title"),r=document.createElement("div");t.style.display="block",n.innerHTML="微信分享",o.appendChild(r);const c=new QRCode(r,{text:`${window.location.origin}${window.location.pathname}`,width:256,height:256,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H});window.AD_CONFIG.layer.add(()=>{n.innerHTML="",c.clear(),r.remove()})}),n.length>0&&document.querySelector("#site-toggle-share-btn").addEventListener("click",function(){let e=!1;const t=document.querySelector("#share-btn");return o=>{o.stopPropagation(),o.preventDefault(),e=!e,t.style.display=e?"flex":"none"}}()))})();